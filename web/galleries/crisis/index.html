<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Crisis - Wubbleton Sacred Art</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
            background: #FFFFFF;
            color: #333;
        }
        
        .header {
            text-align: center;
            padding: 60px 20px;
            background: #FFFFFF;
        }
        
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #ff4444;
            text-decoration: none;
            font-size: 14px;
            z-index: 100;
        }
        
        h1 {
            font-size: 3em;
            font-weight: 100;
            letter-spacing: 0.1em;
            margin-bottom: 10px;
            color: #333;
        }
        
        .subtitle {
            color: #666;
            font-size: 1.1em;
        }
        
        .description {
            max-width: 800px;
            margin: 0 auto 60px;
            padding: 0 20px;
            text-align: center;
            color: #555;
            line-height: 1.6;
        }
        
        .gallery {
            column-count: 2;
            column-gap: 0;
            width: 100%;
        }
        
        .img-wrapper {
            break-inside: avoid;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            margin-bottom: 0;
        }
        
        .img-wrapper img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
        }
        
        .img-wrapper:hover img {
            transform: scale(1.02);
        }
        
        /* Floating emojis */
        .emoji {
            position: fixed;
            font-size: 20px;
            animation: float-up 15s linear infinite;
            pointer-events: none;
            z-index: -1;
        }
        
        @keyframes float-up {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* Simple lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.95);
            z-index: 1000;
            cursor: pointer;
        }
        
        .lightbox img {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 90%;
            max-height: 90%;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .close {
            position: absolute;
            top: 20px;
            right: 40px;
            font-size: 40px;
            color: #333;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <a href="../../" class="back-link">‚Üê Back to Wubbleton</a>
    
    <div class="header">
        <h1>THE CRISIS</h1>
        <p class="subtitle">Loss of the Spiritual</p>
    </div>
    
    <div class="description">
        <p>156 visions of abandoned altars and fragmented symbols. These works capture the exact moment when the old gods stopped answering, when ritual became routine, when the sacred dissolved into silicon. Each piece is a forensic photograph of spiritual crime scenes‚Äîempty churches filled with charging cables, prayer apps with push notifications, meditation subscriptions auto-renewing into the void.</p>
    </div>
    
    <div class="gallery" id="gallery">
        <!-- Images will be added by JavaScript -->
    </div>
    
    <div class="lightbox" id="lightbox" onclick="closeLightbox()">
        <span class="close">&times;</span>
        <img id="lightbox-img" src="" alt="">
    </div>
    
    <script>
        // Supabase configuration
        const SUPABASE_URL = 'https://ozxhahlykxeeiuvmzrbb.supabase.co';
        const BUCKET_NAME = 'gallery-images';
        
        // Function to get Supabase URL
        function getSupabaseUrl(path) {
            return `${SUPABASE_URL}/storage/v1/object/public/${BUCKET_NAME}/${path}`;
        }
        
        // Create floating emojis
        function createEmoji() {
            const emojis = ['üíÄ', '‚ö°', 'üî•', 'üëÅÔ∏è', 'üåë', '‚ö∞Ô∏è', 'üïØÔ∏è', '‚õìÔ∏è'];
            const emoji = document.createElement('div');
            emoji.className = 'emoji';
            emoji.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
            emoji.style.left = Math.random() * 100 + '%';
            emoji.style.animationDuration = Math.random() * 10 + 15 + 's';
            emoji.style.animationDelay = Math.random() * 5 + 's';
            document.body.appendChild(emoji);
            
            setTimeout(() => emoji.remove(), 25000);
        }
        
        // Create emojis periodically
        setInterval(createEmoji, 3000);
        
        // Crisis gallery images - actual files from directory
        const images = [
            '1.jpg', '100.jpg', '100d.jpg', '101.jpg', '102.jpg', '103.jpg', '104.jpg', '105d.jpg', '106.jpg', '109.jpg',
            '11.jpg', '110.jpg', '110d.jpg', '111.jpg', '112.jpg', '113.jpg', '114.jpg', '114b.jpg', '114c.jpg', '115.jpg',
            '115d.jpg', '116.jpg', '117.jpg', '118.jpg', '119.jpg', '11b.jpg', '11d.jpg', '12.jpg', '120.jpg', '120d.jpg',
            '121.jpg', '122.jpg', '125.jpg', '127.jpg', '129.jpg', '129d.jpg', '13.jpg', '131.jpg', '133.jpg', '134.jpg',
            '135b.jpg', '136.jpg', '137.jpg', '139d.jpg', '145.jpg', '148.jpg', '15.jpg', '151.jpg', '157.jpg', '159.jpg',
            '15b.jpg', '16.jpg', '161.jpg', '163.jpg', '164.jpg', '165.jpg', '167.jpg', '16b.jpg', '170.jpg', '173.jpg',
            '175.jpg', '178.jpg', '179.jpg', '18.jpg', '181.jpg', '182.jpg', '184.jpg', '187.jpg', '188.jpg', '190.jpg',
            '191.jpg', '193.jpg', '195.jpg', '196.jpg', '197.jpg', '198.jpg', '20.jpg', '2000.jpg', '201.jpg', '202.jpg',
            '203.jpg', '204.jpg', '206.jpg', '207.jpg', '208.jpg', '209.jpg', '21.jpg', '210.jpg', '211.jpg', '212.jpg',
            '213.jpg', '215.jpg', '216.jpg', '217.jpg', '218.jpg', '220.jpg', '222.jpg', '223.jpg', '225.jpg', '226.jpg',
            '227.jpg', '230.jpg', '232.jpg', '234.jpg', '235.jpg', '236.jpg', '237.jpg', '239.jpg', '240.jpg', '242.jpg',
            '243.jpg', '244.jpg', '245.jpg', '246.jpg', '249.jpg', '25.jpg', '26.jpg', '26b.jpg', '27b.jpg', '27c.jpg',
            '28.jpg', '28d.jpg', '30b.jpg', '32.jpg', '33.jpg', '35.jpg', '35a.jpg', '35b.jpg', '35b1.jpg', '36.jpg',
            '37.jpg', '39.jpg', '39b.jpg', '39c.jpg', '4.jpg', '40.jpg', '40b.jpg', '41.jpg', '42.jpg', '43.jpg',
            '44.jpg', '46.jpg', '47.jpg', '47b.jpg', '48.jpg', '49.jpg', '5.jpg', '50.jpg', '50b.jpg', '52.jpg',
            '53.jpg', '54.jpg', '55.jpg', '57.jpg', '58b.jpg', '59.jpg', '6.jpg', '60b.jpg', '61.jpg', '62.jpg',
            '63.jpg', '64.jpg', '64d.jpg', '65.jpg', '67.jpg', '68.jpg', '69.jpg', '69b.jpg', '7.jpg', '70.jpg',
            '701.jpg', '70b.jpg', '75.jpg', '75d.jpg', '76.jpg', '76b.jpg', '77.jpg', '78.jpg', '79d.jpg', '8.jpg',
            '80.jpg', '81.jpg', '82.jpg', '84.jpg', '85.jpg', '86.jpg', '87.jpg', '88.jpg', '89.jpg', '9.jpg',
            '90.jpg', '91.jpg', '92.jpg', '93.jpg', '94.jpg', '95.jpg', '96.jpg', '97.jpg', '97d.jpg', '98.jpg',
            '99.jpg', 'b.jpg', 'c.jpg', 'd.jpg', 'd1.jpg', 'e.jpg', 'f.jpg', 'g.jpg', 'h.jpg', 'i.jpg', 'j.jpg',
            'k.jpg', 'l.jpg', 'm.jpg', 'n.jpg', 'o.jpg', 'p.jpg', 'y.jpg'
        ];
        
        const gallery = document.getElementById('gallery');
        
        // Create gallery items
        images.forEach((img, index) => {
            const wrapper = document.createElement('div');
            wrapper.className = 'img-wrapper';
            
            const imgElement = document.createElement('img');
            imgElement.src = getSupabaseUrl(`crisis/thumbs/${img}`);
            imgElement.alt = `Crisis ${index + 1}`;
            imgElement.loading = 'lazy';
            imgElement.onclick = () => openLightbox(getSupabaseUrl(`crisis/full/${img}`));
            
            wrapper.appendChild(imgElement);
            gallery.appendChild(wrapper);
        });
        
        function openLightbox(src) {
            document.getElementById('lightbox').style.display = 'block';
            document.getElementById('lightbox-img').src = src;
            document.body.style.overflow = 'hidden';
        }
        
        function closeLightbox() {
            document.getElementById('lightbox').style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Escape key to close
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeLightbox();
        });
    </script>
</body>
</html> 